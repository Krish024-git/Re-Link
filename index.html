<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Re:Link - My Vault</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #ffffff; /* Clear white background */
            color: #111827; /* Dark gray text */
        }
        .card-hover {
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        .card-hover:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        }
        .memory-card {
            position: relative;
        }
        .delete-btn {
            position: absolute;
            top: 0.75rem; right: 0.75rem;
            background-color: rgba(0, 0, 0, 0.5);
            color: white;
            width: 2rem; height: 2rem;
            border-radius: 9999px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.875rem;
            cursor: pointer;
            opacity: 0;
            transition: opacity 0.3s ease, transform 0.3s ease;
            transform: scale(0.9);
            z-index: 10;
        }
        .memory-card:hover .delete-btn {
            opacity: 1;
            transform: scale(1);
        }
        .delete-btn:hover {
            background-color: rgba(239, 68, 68, 0.8); /* red-500 */
        }
        
        /* Modal styles */
        .modal {
            transition: opacity 0.3s ease, transform 0.3s ease;
        }
        .modal-hidden {
            opacity: 0;
            transform: scale(0.95);
            pointer-events: none;
        }
        .modal-visible {
            opacity: 1;
            transform: scale(1);
            pointer-events: auto;
        }
        .drag-over {
            border-color: #4f46e5;
            background-color: #eef2ff;
        }

        /* NEW: Filter button styles */
        .filter-btn.active {
            background-color: #4f46e5; /* indigo-600 */
            color: white;
            border-color: #4f46e5;
        }
        .filter-btn.inactive {
            background-color: white;
            color: #4b5563; /* gray-600 */
            border-color: #e5e7eb; /* gray-200 */
        }
        .filter-btn.inactive:hover {
            background-color: #f9fafb; /* gray-50 */
        }

        /* Error Shake Animation */
        @keyframes shake {
            10%, 90% { transform: translateX(-1px); }
            20%, 80% { transform: translateX(2px); }
            30%, 50%, 70% { transform: translateX(-4px); }
            40%, 60% { transform: translateX(4px); }
        }
        .shake-error {
            animation: shake 0.5s cubic-bezier(.36,.07,.19,.97) both;
            border-color: #ef4444; /* red-500 */
        }

        /* Lightbox Modal Content */
        #lightboxContent video,
        #lightboxContent img {
            max-width: 90vw;
            max-height: 85vh;
            border-radius: 0.5rem; /* rounded-lg */
        }
    </style>
</head>
<body class="text-gray-900">

    <header class="bg-white shadow-sm sticky top-0 z-50">
        <nav class="container mx-auto px-6 py-4 flex justify-between items-center">
            <div class="text-2xl font-bold text-indigo-600">
                <i class="fas fa-link"></i> Re:Link
            </div>
            <div class="flex space-x-6 items-center">
                <button onclick="openModal()" class="bg-indigo-600 text-white px-4 py-2 rounded-lg font-medium hover:bg-indigo-700 transition duration-300">
                    <i class="fas fa-upload mr-2"></i> Upload Memory
                </button>
                <a href="index.html" class="text-gray-500 hover:text-gray-900">
                    Logout
                </a>
                <div class="w-10 h-10 bg-gray-200 rounded-full flex items-center justify-center text-gray-500">
                    <i class="fas fa-user"></i>
                </div>
            </div>
        </nav>
    </header>

    <section id="vault" class="py-16 bg-gray-50"> <div class="container mx-auto px-6">
            <div class="flex justify-between items-center mb-12">
                <h2 class="text-3xl font-bold text-gray-900">
                    Welcome to Your Vault
                </h2>
                </div>
            
            <div class="flex flex-wrap justify-center gap-2 mb-10">
                <button class="filter-btn active px-4 py-2 rounded-full shadow-sm font-medium transition duration-300 border" data-filter="all">All</button>
                <button class="filter-btn inactive px-4 py-2 rounded-full shadow-sm font-medium transition duration-300 border" data-filter="photos">Photos</button>
                <button class="filter-btn inactive px-4 py-2 rounded-full shadow-sm font-medium transition duration-300 border" data-filter="videos">Videos</button>
                <button class="filter-btn inactive px-4 py-2 rounded-full shadow-sm font-medium transition duration-300 border" data-filter="notes">Notes</button>
                <button class="filter-btn inactive px-4 py-2 rounded-full shadow-sm font-medium transition duration-300 border" data-filter="audio">Audio</button>
            </div>

            <div id="memoryGrid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                <div class="memory-card filter-photos bg-white rounded-lg shadow-lg overflow-hidden card-hover" 
                     data-file-url="https://placehold.co/600x400/a5b4fc/374151?text=Family+Vacation" 
                     data-file-type="image/jpeg" 
                     data-title="Family Vacation '05">
                    
                    <button class="delete-btn"><i class="fas fa-trash"></i></button>
                    <img src="https://placehold.co/600x400/a5b4fc/374151?text=Family+Vacation" alt="Family Vacation" class="w-full h-48 object-cover">
                    <div class="p-6">
                        <h3 class="text-xl font-bold mb-2">Family Vacation '05</h3>
                        <p class="text-gray-600 text-sm mb-4">The trip to the beach. Remember sandcastles!</p>
                        <div class="flex flex-wrap gap-2">
                            <span class="bg-indigo-100 text-indigo-800 text-xs font-semibold px-2.5 py-0.5 rounded-full">Photos</span>
                            <span class="bg-pink-100 text-pink-800 text-xs font-semibold px-2.5 py-0.5 rounded-full">Family</span>
                        </div>
                    </div>
                </div>
                
                <div class="memory-card filter-audio bg-white rounded-lg shadow-lg overflow-hidden card-hover"
                     data-file-url="https://placehold.co/600x400/fca5a5/374151?text=First+Song" 
                     data-file-type="audio/mpeg" 
                     data-title="First Song Recording">
                    
                    <button class="delete-btn"><i class="fas fa-trash"></i></button>
                    <img src="https://placehold.co/600x400/fca5a5/374151?text=First+Song" alt="First Song" class="w-full h-48 object-cover">
                    <div class="p-6">
                        <h3 class="text-xl font-bold mb-2">First Song Recording</h3>
                        <p class="text-gray-600 text-sm mb-4">That old guitar demo. Sounds terrible, but... special.</p>
                        <div class="flex flex-wrap gap-2">
                            <span class="bg-green-100 text-green-800 text-xs font-semibold px-2.5 py-0.5 rounded-full">Audio</span>
                            <span class="bg-yellow-100 text-yellow-800 text-xs font-semibold px-2.5 py-0.5 rounded-full">Music</span>
                        </div>
                    </div>
                </div>

                <div class="memory-card filter-notes bg-white rounded-lg shadow-lg overflow-hidden card-hover"
                     data-file-url="https://placehold.co/600x400/fdba74/374151?text=Project+Notes" 
                     data-file-type="text/plain" 
                     data-title="College Project Notes">
                    
                    <button class="delete-btn"><i class="fas fa-trash"></i></button>
                    <img src="https://placehold.co/600x400/fdba74/374151?text=Project+Notes" alt="Project Notes" class="w-full h-48 object-cover">
                    <div class="p-6">
                        <h3 class="text-xl font-bold mb-2">College Project Notes</h3>
                        <p class="text-gray-600 text-sm mb-4">All-nighters and breakthrough ideas. Scanned notebook.</p>
                        <div class="flex flex-wrap gap-2">
                            <span class="bg-blue-100 text-blue-800 text-xs font-semibold px-2.5 py-0.5 rounded-full">Notes</span>
                            <span class="bg-gray-100 text-gray-800 text-xs font-semibold px-2.5 py-0.5 rounded-full">Work</span>
                        </div>
                    </div>
                </div>
                
                <div class="memory-card filter-videos bg-white rounded-lg shadow-lg overflow-hidden card-hover"
                     data-file-url="https://placehold.co/600x400/86efac/374151?text=Birthday+Video" 
                     data-file-type="video/mp4" 
                     data-title="Mom's 50th Birthday">
                    
                    <button class="delete-btn"><i class="fas fa-trash"></i></button>
                    <img src="https://placehold.co/600x400/86efac/374151?text=Birthday+Video" alt="Birthday Video" class="w-full h-48 object-cover">
                    <div class="p-6">
                        <h3 class="text-xl font-bold mb-2">Mom's 50th Birthday</h3>
                        <p class="text-gray-600 text-sm mb-4">The full video of the surprise party. So much joy!</p>
                        <div class="flex flex-wrap gap-2">
                            <span class="bg-red-100 text-red-800 text-xs font-semibold px-2.5 py-0.5 rounded-full">Videos</span>
                            <span class="bg-pink-100 text-pink-800 text-xs font-semibold px-2.5 py-0.5 rounded-full">Family</span>
                        </div>
                    </div>
                </div>

                </div>
        </div>
    </section>

    <footer class="bg-white text-gray-500 py-12"> <div class="container mx-auto px-6 text-center">
            <p class="text-2xl font-bold text-indigo-600 mb-2"> <i class="fas fa-link"></i> Re:Link
            </p>
            <p>&copy; 2025 Re:Link. All memories preserved.</p>
        </div>
    </footer>

    <div id="uploadModal" class="modal modal-hidden fixed inset-0 bg-black bg-opacity-50 backdrop-blur-sm flex items-center justify-center p-4 z-50">
        <div class="bg-white rounded-2xl shadow-2xl w-full max-w-2xl transform">
            <div class="flex justify-between items-center p-6 border-b border-gray-200">
                <h3 class="text-2xl font-bold text-gray-800">Archive a New Memory</h3>
                <button onclick="closeModal()" class="text-gray-400 hover:text-gray-600">
                    <i class="fas fa-times fa-lg"></i>
                </button>
            </div>

            <div id="modalForm">
                <form class="p-6 md:p-8 space-y-6" onsubmit="return false;">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Your Files or Folders</label>
                        <div id="dropzone" class="border-2 border-dashed border-gray-300 rounded-lg p-10 text-center hover:border-indigo-500 transition">
                            <i class="fas fa-cloud-upload-alt text-4xl text-gray-400"></i>
                            <p class="mt-2 text-gray-600">Drag & drop files or folders here</p>
                            <p id="fileName" class="text-sm text-green-600 font-medium mt-2"></p>
                        </div>

                        <input type="file" id="fileInputSingle" class="hidden" onchange="handleFileSelect(this.files)" multiple>
                        <input type="file" id="fileInputFolder" class="hidden" onchange="handleFileSelect(this.files)" webkitdirectory>
                        
                        <div class="flex items-center justify-center space-x-4 mt-4">
                            <button type="button" onclick="document.getElementById('fileInputSingle').click()" class="bg-indigo-100 text-indigo-700 px-4 py-2 rounded-lg font-medium hover:bg-indigo-200 transition duration-300">
                                <i class="fas fa-file-alt mr-2"></i> Select File(s)
                            </button>
                            <button type="button" onclick="document.getElementById('fileInputFolder').click()" class="bg-gray-100 text-gray-700 px-4 py-2 rounded-lg font-medium hover:bg-gray-200 transition duration-300">
                                <i class="fas fa-folder-open mr-2"></i> Select Folder
                            </button>
                        </div>
                    </div>

                    <div>
                        <label for="title" class="block text-sm font-medium text-gray-700">Title / Name</label>
                        <input type="text" id="title" class="mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500" required>
                    </div>
                    
                    <div>
                        <label for="tags" class="block text-sm font-medium text-gray-700">Categories / Tags</label>
                        <input type="text" id="tags" placeholder="e.g., Family, Travel, Project" class="mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500">
                        <p class="mt-1 text-xs text-gray-500">Separate tags with a comma.</p>
                    </div>

                    <div class="flex items-center">
                        <input id="encrypt" type="checkbox" checked class="h-4 w-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500">
                        <label for="encrypt" class="ml-2 block text-sm text-gray-800">
                            <i class="fas fa-lock text-green-600"></i> Securely Encrypt this Memory
                        </label>
                    </div>
                </form>
            </div>
            
            <div id="modalLoading" class="hidden p-6 md:p-8 text-center">
                <i class="fas fa-spinner fa-spin text-4xl text-indigo-600"></i>
                <p class="mt-4 text-lg font-medium">Encrypting & Archiving...</p>
                <p class="text-gray-600">Please wait, your memory is being secured.</p>
            </div>
            
            <div id="modalSuccess" class="hidden p-6 md:p-8 text-center">
                <i class="fas fa-check-circle text-4xl text-green-500"></i>
                <p class="mt-4 text-lg font-medium">Memory Archived!</p>
                <p class="text-gray-600">Your memory is now safe and secure in your vault.</p>
            </div>

            <div id="modalFooter" class="p-6 bg-gray-50 rounded-b-2xl border-t border-gray-200 text-right">
                <button onclick="closeModal()" class="text-gray-600 bg-white px-4 py-2 rounded-lg border border-gray-300 hover:bg-gray-50 transition mr-3">
                    Cancel
                </button>
                <button onclick="archiveMemory()" class="bg-indigo-600 text-white px-5 py-2 rounded-lg font-medium hover:bg-indigo-700 transition">
                    Archive Now
                </button>
            </div>
        </div>
    </div>

    <div id="lightboxModal" class="modal modal-hidden fixed inset-0 bg-black bg-opacity-75 backdrop-blur-sm flex items-center justify-center p-4 z-[60]">
        <div class="relative w-auto h-auto">
            <button onclick="closeLightbox()" class="absolute -top-10 right-0 text-white text-3xl hover:text-gray-300 transition z-10">
                <i class="fas fa-times"></i>
            </button>
            
            <div id="lightboxContent" class="flex items-center justify-center">
                </div>
        </div>
    </div>


    <script>
        const modal = document.getElementById('uploadModal');
        const modalForm = document.getElementById('modalForm');
        const modalLoading = document.getElementById('modalLoading');
        const modalSuccess = document.getElementById('modalSuccess');
        const modalFooter = document.getElementById('modalFooter');
        
        const lightboxModal = document.getElementById('lightboxModal');
        const lightboxContent = document.getElementById('lightboxContent');

        let selectedFilesCache = null;
        
        // Modal functions
        function openModal() {
            modal.classList.remove('modal-hidden');
            modal.classList.add('modal-visible');
            resetModal();
        }

        function closeModal() {
            modal.classList.add('modal-hidden');
            modal.classList.remove('modal-visible');
        }

        function resetModal() {
            modalForm.classList.remove('hidden');
            modalFooter.classList.remove('hidden');
            modalLoading.classList.add('hidden');
            modalSuccess.classList.add('hidden');
            document.getElementById('fileName').textContent = '';
            document.getElementById('title').value = '';
            document.getElementById('tags').value = '';
            selectedFilesCache = null;
            document.getElementById('fileInputSingle').value = null;
            document.getElementById('fileInputFolder').value = null;
            document.getElementById('dropzone').classList.remove('shake-error', 'border-red-500');
        }

        // --- Lightbox Functions ---
        function openLightbox(card) {
            const url = card.dataset.fileUrl;
            const type = card.dataset.fileType || 'text/plain';
            const title = card.dataset.title;

            lightboxContent.innerHTML = ''; // Clear previous content

            // Download Button HTML
            const downloadBtnHtml = `
                <a href="${url}" download="${title}" 
                   class="absolute top-2 right-2 bg-indigo-600 text-white px-4 py-2 rounded-lg font-medium hover:bg-indigo-700 transition z-20 text-sm">
                    <i class="fas fa-download"></i> Download
                </a>`;

            if (type.startsWith('image/')) {
                lightboxContent.innerHTML = `
                    <div class="relative">
                        ${downloadBtnHtml}
                        <img src="${url}" alt="${title}">
                    </div>`;
            } else if (type.startsWith('video/')) {
                lightboxContent.innerHTML = `
                    <div class="relative">
                        ${downloadBtnHtml}
                        <video src="${url}" controls autoplay></video>
                    </div>`;
            } else if (type.startsWith('audio/')) {
                lightboxContent.innerHTML = `
                    <div class="bg-white p-8 rounded-lg text-center relative">
                        ${downloadBtnHtml}
                        <h3 class="text-2xl font-bold mb-4">${title}</h3>
                        <audio src="${url}" controls autoplay class="w-full"></audio>
                    </div>`;
            } else {
                // For Notes or other files
                lightboxContent.innerHTML = `
                    <div class="bg-white p-8 rounded-lg text-center max-w-lg">
                        <h3 class="text-2xl font-bold mb-4">${title}</h3>
                        <p class="text-gray-600 mb-4">File preview not available.</p>
                        <a href="${url}" download="${title}" class="bg-indigo-600 text-white px-4 py-2 rounded-lg font-medium hover:bg-indigo-700">
                            <i class="fas fa-download"></i> Download File
                        </a>
                    </div>
                `;
            }

            // Show modal
            lightboxModal.classList.remove('modal-hidden');
            lightboxModal.classList.add('modal-visible');
        }

        function closeLightbox() {
            lightboxModal.classList.add('modal-hidden');
            lightboxModal.classList.remove('modal-visible');
            lightboxContent.innerHTML = ''; // Stop video/audio
        }
        
        
        function archiveMemory() {
            const titleInput = document.getElementById('title');
            const tagsInput = document.getElementById('tags');
            const dropzone = document.getElementById('dropzone');

            // --- 1. Validation ---
            if (!selectedFilesCache || selectedFilesCache.length === 0) {
                dropzone.classList.add('shake-error', 'border-red-500');
                setTimeout(() => {
                    dropzone.classList.remove('shake-error', 'border-red-500');
                }, 500);
                return;
            }

            // --- 2. Form Data Collect Karein ---
            const filesToUpload = selectedFilesCache;
            const singleFileTitle = titleInput.value; // Form se title
            const userTags = tagsInput.value.split(',')
                                            .map(tag => tag.trim())
                                            .filter(tag => tag.length > 0);

            // --- 3. UI Update (Loading) ---
            modalForm.classList.add('hidden');
            modalFooter.classList.add('hidden');
            modalLoading.classList.remove('hidden');

            // --- 4. Simulation & Card Addition ---
            setTimeout(() => {
                
                // Loop through all selected files
                for (const file of filesToUpload) {
                    
                    // --- Determine Title ---
                    let title = '';
                    if (filesToUpload.length === 1 && singleFileTitle) {
                        title = singleFileTitle;
                    } else {
                        title = file.webkitRelativePath || file.name;
                    }

                    let category = 'Notes';
                    let filterClass = 'filter-notes';
                    let imageSrc = `https://placehold.co/600x400/fdba74/374151?text=Note:+${file.name}`;
                    let fileTypeColor = 'bg-blue-100 text-blue-800'; // Default for Notes

                   
                    const fileUrl = URL.createObjectURL(file);

                    if (file.type.startsWith('image/')) {
                        category = 'Photos';
                        filterClass = 'filter-photos';
                        imageSrc = fileUrl; // Use the actual image for preview
                        fileTypeColor = 'bg-indigo-100 text-indigo-800';
                    } else if (file.type.startsWith('video/')) {
                        category = 'Videos';
                        filterClass = 'filter-videos';
                        imageSrc = `https://placehold.co/600x400/86efac/374151?text=Video:+${file.name}`;
                        fileTypeColor = 'bg-red-100 text-red-800';
                    } else if (file.type.startsWith('audio/')) {
                        category = 'Audio';
                        filterClass = 'filter-audio';
                        imageSrc = `https://placehold.co/600x400/fca5a5/374151?text=Audio:+${file.name}`;
                        fileTypeColor = 'bg-green-100 text-green-800';
                    }

                    // --- Create User Tags HTML ---
                    let tagsHtml = userTags.map(tag => {
                        return `<span class="bg-gray-100 text-gray-800 text-xs font-semibold px-2.5 py-0.5 rounded-full">${tag}</span>`;
                    }).join(' ');

                    // --- Create New Card HTML ---
                    const newCard = document.createElement('div');
                    newCard.className = `memory-card ${filterClass} bg-white rounded-lg shadow-lg overflow-hidden card-hover`;
                    
                    // Set data attributes for the lightbox
                    newCard.dataset.fileUrl = fileUrl;
                    newCard.dataset.fileType = file.type;
                    newCard.dataset.title = title;
                    
                    newCard.innerHTML = `
                        <button class="delete-btn"><i class="fas fa-trash"></i></button>
                        <img src="${imageSrc}" alt="${title}" class="w-full h-48 object-cover">
                        <div class="p-6">
                            <h3 class="text-xl font-bold mb-2">${title}</h3>
                            <p class="text-gray-600 text-sm mb-4">File: ${file.name}</p>
                            <div class="flex flex-wrap gap-2">
                                <span class="${fileTypeColor} text-xs font-semibold px-2.5 py-0.5 rounded-full">${category}</span>
                                ${tagsHtml}
                            </div>
                        </div>
                    `;
                    
              
                    document.getElementById('memoryGrid').prepend(newCard);

                } 

                // 3. Hide loading, show success
                modalLoading.classList.add('hidden');
                modalSuccess.classList.remove('hidden');

                // 4. Wait for 1.5 seconds, then close modal
                setTimeout(() => {
                    closeModal();
                }, 1500);

            }, 1000); 
        }

    
        const dropzone = document.getElementById('dropzone');
        const fileNameDisplay = document.getElementById('fileName');

        
        function handleFileSelect(files) {
            selectedFilesCache = files; 

            if (files.length === 0) {
                fileNameDisplay.textContent = '';
                return;
            }

            let message = '';
            if (files.length === 1) {
                message = `File selected: ${files[0].name}`;
            } else {
                if (files[0].webkitRelativePath) {
                    const folderName = files[0].webkitRelativePath.split('/')[0];
                    message = `Folder '${folderName}' (${files.length} files) selected.`;
                } else {
                    message = `${files.length} files selected.`;
                }
            }
            fileNameDisplay.textContent = message;
            document.getElementById('dropzone').classList.remove('shake-error', 'border-red-500');
        }

      
        ['dragenter', 'dragover', 'dragleave', 'drop'].forEach(eventName => {
            dropzone.addEventListener(eventName, preventDefaults, false);
        });

        function preventDefaults(e) {
            e.preventDefault();
            e.stopPropagation();
        }

        ['dragenter', 'dragover'].forEach(eventName => {
            dropzone.addEventListener(eventName, () => dropzone.classList.add('drag-over'), false);
        });

        ['dragleave', 'drop'].forEach(eventName => {
            dropzone.addEventListener(eventName, () => dropzone.classList.remove('drag-over'), false);
        });

        dropzone.addEventListener('drop', (e) => {
            const dt = e.dataTransfer;
            const files = dt.files;
            
            if (files.length > 0) {
                handleFileSelect(files); 
            }
        }, false);
        
        document.addEventListener('DOMContentLoaded', () => {
            const filterButtons = document.querySelectorAll('.filter-btn');
            const memoryGrid = document.getElementById('memoryGrid'); 

            // Filter button logic
            filterButtons.forEach(button => {
                button.addEventListener('click', () => {
                    const filter = button.dataset.filter;
                    const memoryCards = document.querySelectorAll('.memory-card'); // Get current cards

                    // Update button styles
                    filterButtons.forEach(btn => {
                        btn.classList.add('inactive');
                        btn.classList.remove('active');
                    });
                    button.classList.add('active');
                    button.classList.remove('inactive');

                    // Filter cards
                    memoryCards.forEach(card => {
                        if (filter === 'all') {
                            card.style.display = 'block';
                        } else if (card.classList.contains(`filter-${filter}`)) {
                            card.style.display = 'block';
                        } else {
                            card.style.display = 'none';
                        }
                    });
                });
            });

            memoryGrid.addEventListener('click', (e) => {
                const target = e.target;

                // 1. Check for Delete Button click
                const deleteButton = target.closest('.delete-btn');
                if (deleteButton) {
                    e.stopPropagation(); 
                    const cardToDelete = deleteButton.closest('.memory-card');
                    cardToDelete.style.transform = 'scale(0.8)';
                    cardToDelete.style.opacity = '0';
                    setTimeout(() => {
                        cardToDelete.remove();
                    }, 300); 
                    return;
                }

                // 2. Check for Card click (to open lightbox)
                const card = target.closest('.memory-card');
                if (card) {
                    openLightbox(card); // Open the lightbox
                }
            });

        });
    </script>
</body>
</html>
